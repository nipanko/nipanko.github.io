---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

const posts = (await getCollection('blog')).sort(
	(a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf()
);
---
<Layout title="Blog | Portfolio & Blog">
    <h1 class="text-2xl mb-8 text-center">ALL POSTS</h1>
    <div class="flex flex-col gap-6">
        {posts.map(post => (
             <a href={`/blog/${post.slug}/`} class="block border-l-4 pl-4 transition-colors" style="border-color: var(--border-color); hover: {background-color: var(--bg-primary)}">
                <h2 class="text-lg mb-1 link-style">{post.data.title}</h2>
                <p class="text-xs" style="color: var(--text-secondary);">
                    {post.data.publishDate.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })}
                </p>
            </a>
        ))}
    </div>
</Layout>